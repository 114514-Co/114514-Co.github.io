<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Results | 114514 & Co.</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        /* 検索結果専用スタイル */
        .search-meta {
            text-align: center;
            margin-bottom: 60px;
            color: var(--secondary-accent);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.2em;
        }
        #query-keyword {
            color: var(--primary-accent);
            border-bottom: 1px solid var(--primary-accent);
            padding-bottom: 2px;
            margin: 0 5px;
        }
        .results-container {
            max-width: 800px;
            margin: 0 auto 100px;
            min-height: 40vh;
        }
        .no-results {
            text-align: center;
            padding: 100px 0;
            border: 1px dashed rgba(255,255,255,0.1);
            color: var(--secondary-accent);
        }
        .search-item {
            padding: 30px 0;
            border-bottom: 1px solid var(--border-color);
            transition: 0.3s;
            display: block;
            text-decoration: none;
            color: inherit;
        }
        .search-item:hover {
            padding-left: 20px;
            background: rgba(255,255,255,0.02);
        }
    </style>
</head>
<body>

    <nav id="common-header"></nav>

    <div id="ambient-light"></div>

    <main class="container">
        <h1 class="section-title reveal">Search</h1>
        
        <div class="search-meta reveal">
            Showing results for: <span id="query-keyword">---</span>
        </div>

        <div class="results-container reveal" id="results-list">
            <div class="no-results">Searching our archives...</div>
        </div>
    </main>

    <footer id="common-footer"></footer>

    <script src="assets/js/script.js"></script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const params = new URLSearchParams(window.location.search);
            const query = params.get('q');
            const displaySpan = document.getElementById('query-keyword');
            const resultsList = document.getElementById('results-list');

            if (!query) {
                displaySpan.textContent = "None";
                resultsList.innerHTML = '<div class="no-results">NO KEYWORD ENTERED.</div>';
                return;
            }

            displaySpan.textContent = `"${query}"`;

            // 簡易データベース
            const mockDatabase = [
                { title: "System Environment", desc: "Our technical architecture and philosophy.", url: "environment.html" },
                { title: "Privacy Policy", desc: "How we handle your data with luxury care.", url: "privacy.html" },
                { title: "Terms of Service", desc: "The rules of engagement with 114514 & Co.", url: "terms.html" },
                { title: "Legal Notice", desc: "Compliance and legal information.", url: "tokushoho.html" }
            ];

            setTimeout(() => {
                const filtered = mockDatabase.filter(item => 
                    item.title.toLowerCase().includes(query.toLowerCase()) || 
                    item.desc.toLowerCase().includes(query.toLowerCase())
                );

                if (filtered.length > 0) {
                    resultsList.innerHTML = filtered.map(item => `
                        <a href="${item.url}" class="search-item">
                            <h3>${item.title}</h3>
                            <p>${item.desc}</p>
                        </a>
                    `).join('');
                } else {
                    resultsList.innerHTML = `<div class="no-results">NO MATCHING DATA FOUND FOR "${query}".</div>`;
                }
            }, 500);
        });
    </script>
</body>
</html>